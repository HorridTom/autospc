# autospc

## Overview

autospc provides a rigorous and consistent means of re-establishing
limits on Shewhart charts (also known as control charts), using the
*Stable Shift Algorithm*.

The main function is
[`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md),
which plots Shewhart charts of various types appropriate for different
types of data, with limits established using the algorithm.

## Installation

autospc can be installed using the
[devtools](https://cran.r-project.org/web/packages/devtools/index.html)
package.

Install devtools if you have not already done so

`install.packages("devtools")`

Then you can install autospc

`devtools::install_github("HorridTom/autospc")`

This may then give you the option to install other packages that
`autospc` is dependent on.

Once installed, you can load autospc as usual with

[`library(autospc)`](https://horridtom.github.io/autospc/)

## Usage

The example dataset `ed_attendances_monthly`, provided with autospc, is
typical of the time series data that the Stable Shift Algorithm is
designed for. The example code below uses this dataset, and can be
executed once autospc is loaded.

For a **C, C’ or XmR** chart the data must have the following columns:

- Your x-axis variable: date, POSIXct, numeric or integer type. The name
  of this column can be specified in the `x` argument of
  [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md).

- Your y-axis variable : numeric or integer type. The name of this
  column can be specified in the `y` argument of the
  [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md)
  function.

For example:

    autospc(ed_attendances_monthly,
                    chart_type = "C'",
                    x = month_start,
                    y = att_all)

For a **P or P’** chart the data must have the following columns:

- Your x-axis variable: date, POSIXct, numeric or integer type. The name
  of this column can be specified in the `x` argument of
  [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md).

- The denominator or total count (e.g. number of ED attendances):
  numeric or integer type. The name of this column can be specified in
  the `n` argument of
  [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md).

- The numerator (e.g. number of ED attendances less than 4 hours in
  duration): numeric or integer type. The name of this column can be
  specified in the `y` argument of
  [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md).

For example:

    autospc(ed_attendances_monthly,
                    chart_type = "P'",
                    x = month_start,
                    y = within_4h,
                    n = att_all)

The parameters of the Stable Shift Algorithm, and the appearance of the
chart, can be configured through various arguments. Use
[`?autospc::autospc`](https://horridtom.github.io/autospc/reference/autospc.md)
to find out more.

### Analysis output as a table

In addition to the default plot output, analysis results can be obtained
in table format using `plot_chart = FALSE`, as follows:

    limits_table <- autospc(ed_attendances_monthly,
                                  chart_type = "P'",
                                  x = month_start,
                                  y = within_4h,
                                  n = att_all,
                                  plot_chart = FALSE)

    head(limits_table,
          n = 5L)

## Getting help

If you encounter a clear bug, please file an issue with a [minimal
reproducible
example](https://forum.posit.co/t/faq-how-to-do-a-minimal-reproducible-example-reprex-for-beginners/23061)
on [GitHub](https://github.com/HorridTom/autospc/issues).

# Package index

## All functions

- [`autospc()`](https://horridtom.github.io/autospc/reference/autospc.md)
  : Plot SPC charts with automated limit recalculation
- [`create_SPC_auto_limits_table()`](https://horridtom.github.io/autospc/reference/create_SPC_auto_limits_table.md)
  : Automatically recalculate SPC control limits
- [`ed_attendances_monthly`](https://horridtom.github.io/autospc/reference/ed_attendances_monthly.md)
  : Emergency Department Attendances Monthly data
- [`example_series_1`](https://horridtom.github.io/autospc/reference/example_series_1.md)
  : Example Time Series 1
- [`example_series_2a`](https://horridtom.github.io/autospc/reference/example_series_2a.md)
  : Example Time Series 2a
- [`example_series_2b`](https://horridtom.github.io/autospc/reference/example_series_2b.md)
  : Example Time Series 2b
- [`example_series_2c`](https://horridtom.github.io/autospc/reference/example_series_2c.md)
  : Example Time Series 2c
- [`facet_stages()`](https://horridtom.github.io/autospc/reference/facet_stages.md)
  : facet_stages

# Articles

### All vignettes

- [The Stable Shift
  Algorithm](https://horridtom.github.io/autospc/articles/stable-shift-algorithm.md):
